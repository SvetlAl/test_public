import{e as R,m as A,G as l,E as N,H as b,I as g,J as I,K as O,L as e,M as E,N as B,O as H,y as L,P as M,S as Y}from"./DTIdTzvd.js";import{B as _}from"./C2ip0L6z.js";function D(s,r,n=!1){A&&l();var c=new _(s),i=n?N:0;function a(f,T){if(A){const h=b(s);var t;if(h===g?t=0:h===I?t=!1:t=parseInt(h.substring(1)),f!==t){var u=O();e(u),c.anchor=u,E(!1),c.ensure(f,T),E(!0);return}}c.ensure(f,T)}R(()=>{var f=!1;r((T,t=0)=>{f=!0,a(t,T)}),f||a(!1,null)},i)}function S(s,r){return s===r||(s==null?void 0:s[Y])===r}function F(s={},r,n,c){return B(()=>{var i,a;return H(()=>{i=a,a=[],L(()=>{s!==n(...a)&&(r(s,...a),i&&S(n(...i),s)&&r(null,...i))})}),()=>{M(()=>{a&&S(n(...a),s)&&r(null,...a)})}}),s}export{F as b,D as i};
