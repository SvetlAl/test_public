import{ac as v,ad as y,ae as k,m as h,af as A,P as E,ag as b}from"./DTIdTzvd.js";const S=Symbol("is custom element"),C=Symbol("is html");function G(e){if(h){var o=!1,t=()=>{if(!o){if(o=!0,e.hasAttribute("value")){var r=e.value;u(e,"value",null),e.value=r}if(e.hasAttribute("checked")){var s=e.checked;u(e,"checked",null),e.checked=s}}};e.__on_r=t,E(t),b()}}function u(e,o,t,r){var s=I(e);h&&(s[o]=e.getAttribute(o),o==="src"||o==="srcset"||o==="href"&&e.nodeName==="LINK")||s[o]!==(s[o]=t)&&(o==="loading"&&(e[v]=t),t==null?e.removeAttribute(o):typeof t!="string"&&M(e).includes(o)?e[o]=t:e.setAttribute(o,t))}function I(e){return e.__attributes??(e.__attributes={[S]:e.nodeName.includes("-"),[C]:e.namespaceURI===y})}var g=new Map;function M(e){var o=e.getAttribute("is")||e.nodeName,t=g.get(o);if(t)return t;g.set(o,t=[]);for(var r,s=e,n=Element.prototype;n!==s;){r=A(s);for(var a in r)r[a].set&&t.push(a);s=k(s)}return t}const N="en",d=["en","ru"],m="PARAGLIDE_LOCALE",$=3456e4,L=["cookie","globalVariable","baseLocale"];globalThis.__paraglide={};let l,_=!1,x=()=>{let e;for(const o of L){if(o==="cookie")e=D();else if(o==="baseLocale")e=N;else if(o==="globalVariable"&&l!==void 0)e=l;else if(p(o)&&f.has(o)){const t=f.get(o);if(t){const r=t.getLocale();if(r instanceof Promise)continue;e=r}}if(e!==void 0){const t=O(e);return _||(l=t,_=!0,R(t,{reload:!1})),t}}throw new Error("No locale found. Read the docs https://inlang.com/m/gerre34r/library-inlang-paraglideJs/errors#no-locale-found")};const P=e=>{window.location.reload()};let R=(e,o)=>{const t={reload:!0,...o};let r;try{r=x()}catch{}const s=[];for(const a of L)if(a==="globalVariable")l=e;else if(a==="cookie"){if(typeof document>"u"||typeof window>"u")continue;const c=`${m}=${e}; path=/; max-age=${$}`;document.cookie=c}else{if(a==="baseLocale")continue;if(p(a)&&f.has(a)){const c=f.get(a);if(c){let i=c.setLocale(e);i instanceof Promise&&(i=i.catch(w=>{throw new Error(`Custom strategy "${a}" setLocale failed.`,{cause:w})}),s.push(i))}}}const n=()=>{t.reload&&window.location&&e!==r&&P()};if(s.length)return Promise.all(s).then(()=>{n()});n()};function T(e){return typeof e!="string"?!1:e?d.some(o=>o.toLowerCase()===e.toLowerCase()):!1}function O(e){if(typeof e!="string")throw new Error(`Invalid locale: ${e}. Expected a string.`);const o=e.toLowerCase(),t=d.find(r=>r.toLowerCase()===o);if(!t)throw new Error(`Invalid locale: ${e}. Expected one of: ${d.join(", ")}`);return t}function D(){if(typeof document>"u"||!document.cookie)return;const e=document.cookie.match(new RegExp(`(^| )${m}=([^;]+)`)),o=e==null?void 0:e[2];if(T(o))return o}const f=new Map;function p(e){return typeof e=="string"&&/^custom-[A-Za-z0-9_-]+$/.test(e)}export{R as a,x as g,G as r,u as s};
